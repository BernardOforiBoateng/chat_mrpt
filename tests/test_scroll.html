<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatMRPT Scroll Test</title>
    <link rel="stylesheet" href="app/static/css/modern-minimalist-theme.css">
    <style>
        /* Add test message content */
        .test-message {
            background: #f0f0f0;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
        }
    </style>
</head>
<body>
    <main class="main-chat-interface">
        <div class="chat-container full-screen">
            <!-- Chat Header -->
            <div class="chat-header">
                <div class="chat-controls-left">
                    <button class="control-btn" title="Menu">
                        <i class="fas fa-bars"></i>
                    </button>
                </div>
                <div class="chat-brand">
                    <div class="brand-text">
                        <h1>ChatMRPT</h1>
                        <span>Scroll Test</span>
                    </div>
                </div>
            </div>

            <div id="chat-messages" class="chat-messages-container">
                <!-- Greeting Message -->
                <div class="message">
                    <div class="simple-welcome">
                        <h2>Welcome to ChatMRPT</h2>
                        <p>This is the greeting message at the top.</p>
                    </div>
                </div>
                
                <!-- Test Messages -->
                <div class="message">
                    <div class="test-message">Test Message 1</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 2</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 3</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 4</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 5</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 6</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 7</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 8</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 9</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 10</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 11</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 12</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 13</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 14</div>
                </div>
                <div class="message">
                    <div class="test-message">Test Message 15 - This should be visible and you should be able to scroll back to the greeting</div>
                </div>
            </div>
            
            <div class="chat-input-container">
                <textarea class="chat-input" placeholder="Test scrolling by typing here..." rows="1"></textarea>
                <button class="chat-btn send-btn" title="Send Message">
                    Send
                </button>
            </div>
        </div>
    </main>

    <script>
        // Test scroll functionality
        document.addEventListener('DOMContentLoaded', function() {
            const chatContainer = document.getElementById('chat-messages');
            const sendBtn = document.querySelector('.send-btn');
            
            sendBtn.addEventListener('click', function() {
                // Test scroll to bottom
                chatContainer.scrollTo({
                    top: chatContainer.scrollHeight,
                    behavior: 'smooth'
                });
            });
            
            // Add scroll to top button for testing
            const scrollTopBtn = document.createElement('button');
            scrollTopBtn.textContent = 'Scroll to Top (Test)';
            scrollTopBtn.style.position = 'fixed';
            scrollTopBtn.style.top = '10px';
            scrollTopBtn.style.right = '10px';
            scrollTopBtn.style.zIndex = '1000';
            scrollTopBtn.style.padding = '10px';
            scrollTopBtn.style.background = '#007bff';
            scrollTopBtn.style.color = 'white';
            scrollTopBtn.style.border = 'none';
            scrollTopBtn.style.borderRadius = '5px';
            
            scrollTopBtn.addEventListener('click', function() {
                chatContainer.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            document.body.appendChild(scrollTopBtn);
            
            console.log('Scroll test initialized');
            console.log('Chat container:', chatContainer);
            console.log('Scroll height:', chatContainer.scrollHeight);
            console.log('Client height:', chatContainer.clientHeight);
        });
    </script>
</body>
</html>